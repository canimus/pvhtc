
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      <link rel="shortcut icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-6.1.5">
    
    
      
        <title>Setup - PVH Technical Challenge</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.21aed14c.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.196e0c26.min.css">
        
          
          
          <meta name="theme-color" content="#000000">
        
      
    
    
    
      
        
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
    
      
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="black" data-md-color-accent="">
      
  
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#setup" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href=".." title="PVH Technical Challenge" class="md-header-nav__button md-logo" aria-label="PVH Technical Challenge">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M22 5v2h-5l-3.47 5H16v2h-1.54l3.71 8h-2.2l-.93-2H6.38l-1.03 2H3.1l4.13-8H7c-.45 0-.83-.3-.96-.7L2.87 3.84l.95-.34c.52-.16 1.09.13 1.26.65L7.72 12h4.38l3.47-5H12V5h10M9.5 14l-2.08 4h6.69l-1.85-4H9.5z"/></svg>

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            PVH Technical Challenge
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              Setup
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="PVH Technical Challenge" class="md-nav__button md-logo" aria-label="PVH Technical Challenge">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M22 5v2h-5l-3.47 5H16v2h-1.54l3.71 8h-2.2l-.93-2H6.38l-1.03 2H3.1l4.13-8H7c-.45 0-.83-.3-.96-.7L2.87 3.84l.95-.34c.52-.16 1.09.13 1.26.65L7.72 12h4.38l3.47-5H12V5h10M9.5 14l-2.08 4h6.69l-1.85-4H9.5z"/></svg>

    </a>
    PVH Technical Challenge
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href=".." class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Setup
        <span class="md-nav__icon md-icon"></span>
      </label>
    
    <a href="./" class="md-nav__link md-nav__link--active">
      Setup
    </a>
    
      
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#cloning-repo" class="md-nav__link">
    Cloning Repo
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#build-container" class="md-nav__link">
    Build Container
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#container-file" class="md-nav__link">
    Container File
  </a>
  
    <nav class="md-nav" aria-label="Container File">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#base-image" class="md-nav__link">
    Base Image
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ocr-libs" class="md-nav__link">
    OCR Libs
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#chrome-browser" class="md-nav__link">
    Chrome Browser
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#chrome-driver" class="md-nav__link">
    Chrome Driver
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#python-libs" class="md-nav__link">
    Python Libs
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#runtime" class="md-nav__link">
    Runtime
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
    
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../run/" class="md-nav__link">
      Run
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../results/" class="md-nav__link">
      Results
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#cloning-repo" class="md-nav__link">
    Cloning Repo
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#build-container" class="md-nav__link">
    Build Container
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#container-file" class="md-nav__link">
    Container File
  </a>
  
    <nav class="md-nav" aria-label="Container File">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#base-image" class="md-nav__link">
    Base Image
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ocr-libs" class="md-nav__link">
    OCR Libs
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#chrome-browser" class="md-nav__link">
    Chrome Browser
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#chrome-driver" class="md-nav__link">
    Chrome Driver
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#python-libs" class="md-nav__link">
    Python Libs
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#runtime" class="md-nav__link">
    Runtime
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="setup">Setup</h1>
<p>This project requires you to build a container, you can use the technology of your choice <code>docker</code> or <code>podman</code> the image is tested using both technologies.</p>
<div class="admonition example">
<p class="admonition-title">Why Python?</p>
<p>The language of choice for the technical challenge was <code>python</code> specially because of my familiarity with the language. However I explore the use of <code>typescript</code> when beggining the technical challenge, but due to time constraints, I decided to implement the rest of the project in a language that didn't require compilation.</p>
</div>
<p>Building a container is out of the scope of this technical challenge, and one of the assumptions is that your computer, has any of the technologies mentioned 
before, <code>docker</code> or <code>buildah</code> to accomplish the preparation task.</p>
<h2 id="cloning-repo">Cloning Repo</h2>
<p>First step is to download the code from the repository</p>
<div class="highlight"><pre><span></span><code>git clone https://github.com/canimus/pvhtc

<span class="c1"># move to directory</span>
<span class="nb">cd</span> pvhtc
</code></pre></div>
<h2 id="build-container">Build Container</h2>
<p>The only requirement for the build is to execute the following command
<div class="highlight"><pre><span></span><code><span class="c1"># Building the PVH technical challenge image</span>
docker build --rm . -t pvhtcpy
</code></pre></div></p>
<div class="admonition abstract">
<p class="admonition-title">Container Details</p>
<p>At this point, you can continue reading the details about the container image, or you can just jump to the execution of the test suite, in the next section.
<a href="/run">Run</a></p>
</div>
<h2 id="container-file">Container File</h2>
<p>The different sections of the container file are explained below:</p>
<h3 id="base-image">Base Image</h3>
<div class="highlight"><pre><span></span><code><span class="c"># python 3.8 installed</span>
<span class="hll"><span class="k">FROM</span> <span class="s">python:3.8</span>
</span></code></pre></div>
<p>For a production environment an <code>alpine</code> image is recommended as it will consume less space.
Also because it could be deployed faster.
In the case of the technical challenge, speed and operational readiness were not the considerations for the completion, and therefore I chose for an image that could get the job done quick, and without the need of additional setup from the operative system level.</p>
<h3 id="ocr-libs">OCR Libs</h3>
<p>For reading characters from images, I used the tesseract library. With its binging to python in the library <code>pytesseract</code></p>
<div class="highlight"><pre><span></span><code><span class="c"># Installing OS Libraries</span>
<span class="k">RUN</span> apt-get install -yqq unzip zstd tesseract-ocr libtesseract-dev
</code></pre></div>
<h3 id="chrome-browser">Chrome Browser</h3>
<p>As per the specification the only web browser under the scope is Chrome, hereby we setup the repositories to download the software binaries.
<div class="highlight"><pre><span></span><code><span class="c"># Google Repos</span>
<span class="k">RUN</span> wget -q -O - https://dl-ssl.google.com/linux/linux_signing_key.pub <span class="p">|</span> apt-key add -

<span class="c"># Chrome</span>
<span class="k">RUN</span> sh -c <span class="s1">&#39;echo &quot;deb [arch=amd64] http://dl.google.com/linux/chrome/deb/ stable main&quot; &gt;&gt; /etc/apt/sources.list.d/google-chrome.list&#39;</span>

<span class="c"># Latest Versions</span>
<span class="k">RUN</span> apt-get -y update

<span class="c"># Browser Install</span>
<span class="hll"><span class="k">RUN</span> apt-get install -y google-chrome-stable
</span></code></pre></div></p>
<h3 id="chrome-driver">Chrome Driver</h3>
<p>In order to enable the webdriver integration with the web browser, it is required to install the web driver libraries. Incorporated in the settings below.</p>
<div class="highlight"><pre><span></span><code><span class="c"># Download the Chrome Driver</span>
<span class="k">RUN</span> wget -O /tmp/chromedriver.zip http://chromedriver.storage.googleapis.com/<span class="sb">`</span>curl -sS chromedriver.storage.googleapis.com/LATEST_RELEASE<span class="sb">`</span>/chromedriver_linux64.zip

<span class="c"># Unzip the Chrome Driver into /usr/local/bin directory</span>
<span class="hll"><span class="k">RUN</span> unzip /tmp/chromedriver.zip chromedriver -d /usr/local/bin/
</span>
<span class="c"># Set display port as an environment variable</span>
<span class="k">ENV</span> <span class="nv">DISPLAY</span><span class="o">=</span>:99
</code></pre></div>
<h3 id="python-libs">Python Libs</h3>
<p>The execution requires <code>selenium</code> as the main library to conduct the automation routines and additional libraries for the additional features covered by this automated test script.</p>
<div class="highlight"><pre><span></span><code><span class="k">WORKDIR</span><span class="s"> /usr/src</span>
<span class="k">COPY</span> requirements.txt .
<span class="k">RUN</span> pip install --upgrade pip
<span class="k">RUN</span> pip install -r requirements.txt
</code></pre></div>
<div class="admonition example">
<p class="admonition-title">requirements.txt</p>
<div class="highlight"><pre><span></span><code><span class="n">selenium</span><span class="o">==</span><span class="mf">3.141</span><span class="o">.</span><span class="mi">0</span>
<span class="n">pytesseract</span><span class="o">==</span><span class="mf">0.3</span><span class="o">.</span><span class="mi">6</span>
<span class="n">Pillow</span><span class="o">==</span><span class="mf">8.0</span><span class="o">.</span><span class="mi">1</span>
<span class="n">numpy</span><span class="o">==</span><span class="mf">1.19</span><span class="o">.</span><span class="mi">4</span>
<span class="n">Faker</span><span class="o">==</span><span class="mf">4.14</span><span class="o">.</span><span class="mi">2</span>
<span class="n">fake</span><span class="o">-</span><span class="n">useragent</span><span class="o">==</span><span class="mf">0.1</span><span class="o">.</span><span class="mi">11</span>
<span class="n">pychalk</span><span class="o">==</span><span class="mf">2.0</span><span class="o">.</span><span class="mi">1</span>
<span class="n">mkdocs</span><span class="o">-</span><span class="n">material</span><span class="o">==</span><span class="mf">6.1</span><span class="o">.</span><span class="mi">5</span>
<span class="n">behave</span><span class="o">==</span><span class="mf">1.2</span><span class="o">.</span><span class="mi">6</span>
</code></pre></div>
</div>
<h3 id="runtime">Runtime</h3>
<p>The container uses a volume at the root of the file system, to pass scripts to be executed inside of the container in the path <code>/scripts</code>.
It is expected that when running the container a volume from the external host system, is mapped to this volume for execution.
The expected default script for running the suite is <code>main.py</code>.</p>
<div class="highlight"><pre><span></span><code><span class="c"># Location of Automated Test Scripts</span>
<span class="k">VOLUME</span><span class="s"> /scripts</span>

<span class="hll"><span class="k">CMD</span> <span class="p">[</span><span class="s2">&quot;python&quot;</span><span class="p">,</span> <span class="s2">&quot;/scripts/main.py&quot;</span><span class="p">]</span>
</span></code></pre></div>
<p>Now we are ready to run the container and with it, the automated test script that covers the technical challenge.
Please go ahead to the <strong>Run</strong> section by navigating in the footer of this page...</p>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid" aria-label="Footer">
        
          <a href=".." class="md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
            </div>
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Home
              </div>
            </div>
          </a>
        
        
          <a href="../run/" class="md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Run
              </div>
            </div>
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/vendor.7e0ee788.min.js"></script>
      <script src="../assets/javascripts/bundle.b3a72adc.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}</script>
      
      <script>
        app = initialize({
          base: "..",
          features: ['navigation.expand'],
          search: Object.assign({
            worker: "../assets/javascripts/worker/search.4ac00218.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
    
  </body>
</html>